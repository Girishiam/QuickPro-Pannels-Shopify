{{ 'section-contact-form.css' | asset_url | stylesheet_tag }}

{%- style -%}
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
  }

  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }

  .contact-custom-wrapper {
      display: flex;
      flex-direction: column;
      gap: 40px;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1.5rem;
  }

  @media screen and (min-width: 900px) {
      .contact-custom-wrapper {
          flex-direction: row;
          justify-content: space-between;
          align-items: flex-start;
          gap: 60px;
      }
      .contact-custom-info {
          flex: 1;
          max-width: 450px;
          padding-top: 40px;
      }
      .contact-custom-form-container {
          flex: 1;
          max-width: 600px;
      }
  }

  /* Info Side Styling */
  .contact-info-title {
      font-size: 3.6rem;
      font-weight: 900;
      text-transform: uppercase;
      margin-bottom: 2rem;
      line-height: 1.1;
  }
  .contact-info-text {
      font-size: 1.6rem;
      line-height: 1.6;
      margin-bottom: 3rem;
  }
  .contact-detail-item {
      display: flex;
      align-items: flex-start;
      gap: 15px;
      margin-bottom: 20px;
  }
  .contact-detail-icon {
      width: 24px;
      flex-shrink: 0;
      margin-top: 3px;
  }
  .contact-detail-content strong {
      display: block;
      font-weight: 900;
      text-transform: uppercase;
      margin-bottom: 5px;
      font-size: 1.4rem;
  }
  .contact-detail-content p, .contact-detail-content a {
      margin: 0;
      font-size: 1.5rem;
      color: inherit;
      text-decoration: none;
      font-weight: 600;
  }

  /* Form Side Styling */
  .contact-form-card {
      background: #fff;
      border: 1px solid #e5e5e5;
      border-radius: 8px;
      padding: 40px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.05);
  }
  .field {
      margin-bottom: 2rem;
  }
  .field__input, .field__label {
      font-size: 1.4rem;
  }
  .contact__button {
      margin-top: 3rem;
      width: 100%;
  }
  .contact__button .button {
      width: 100%;
      background-color: #f7f7f7;
      color: #000;
      border: 1px solid #e5e5e5;
      font-weight: 900;
      text-transform: uppercase;
  }
  .contact__button .button:hover {
      background-color: #000;
      color: #fff;
  }
  
  .form-row-split {
      display: flex;
      gap: 20px;
  }
  .form-row-split .field {
      flex: 1;
  }
  
  .consent-checkbox {
      display: flex;
      align-items: flex-start;
      gap: 10px;
      font-size: 1.2rem;
      line-height: 1.4;
      margin-top: 2rem;
      color: #666;
  }
  .consent-checkbox input {
      margin-top: 3px;
  }

{%- endstyle -%}

<div class="color-{{ section.settings.color_scheme }} gradient section-{{ section.id }}-padding">
  <div class="contact-custom-wrapper page-width">
      
      <!-- Left Column: Info -->
      <div class="contact-custom-info">
          <h2 class="contact-info-title">{{ section.settings.heading }}</h2>
          <div class="contact-info-text">
              {{ section.settings.description }}
              <div class="rte">
                {{ page.content }}
              </div>
          </div>

          <div class="contact-details">
              <div class="contact-detail-item">
                  <div class="contact-detail-icon">
                      <!-- Map Pin Icon -->
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" /><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z" /></svg>
                  </div>
                  <div class="contact-detail-content">
                      <strong>{{ section.settings.address_label }}</strong>
                      {{ section.settings.address_text }}
                  </div>
              </div>

              <div class="contact-detail-item">
                  <div class="contact-detail-icon">
                     <!-- Phone Icon -->
                     <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.362-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z" /></svg>
                  </div>
                  <div class="contact-detail-content">
                      <strong>{{ section.settings.phone_label }}</strong>
                      <a href="tel:{{ section.settings.phone_text | remove: ' ' | remove: '(' | remove: ')' | remove: '-' }}">{{ section.settings.phone_text }}</a>
                  </div>
              </div>

              <div class="contact-detail-item">
                  <div class="contact-detail-icon">
                      <!-- Email Icon -->
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75" /></svg>
                  </div>
                  <div class="contact-detail-content">
                      <strong>{{ section.settings.email_label }}</strong>
                      <a href="mailto:{{ section.settings.email_text }}">{{ section.settings.email_text }}</a>
                  </div>
              </div>
          </div>
      </div>

      <!-- Right Column: Form -->
      <div class="contact-custom-form-container">
          <div class="contact-form-card">
              {%- form 'contact', id: 'ContactForm' -%}
                {%- if form.posted_successfully? -%}
                  <div class="form-status form-status-list form__message" tabindex="-1" autofocus>
                    {{- 'icon-success.svg' | inline_asset_content -}}
                    {{ 'templates.contact.form.post_success' | t }}
                  </div>
                {%- elsif form.errors -%}
                  <div class="form__message">
                    <h2 class="form-status caption-large text-body" role="alert" tabindex="-1" autofocus>
                      {{- 'icon-error.svg' | inline_asset_content -}}
                      {{ 'templates.contact.form.error_heading' | t }}
                    </h2>
                  </div>
                {%- endif -%}

                <div class="form-row-split">
                    <div class="field">
                        <input class="field__input" autocomplete="given-name" type="text" id="ContactForm-first_name" name="contact[first_name]" placeholder="First Name" required>
                        <label class="field__label" for="ContactForm-first_name">First Name *</label>
                    </div>
                    <div class="field">
                        <input class="field__input" autocomplete="family-name" type="text" id="ContactForm-last_name" name="contact[last_name]" placeholder="Last Name" required>
                        <label class="field__label" for="ContactForm-last_name">Last Name *</label>
                    </div>
                </div>

                <div class="field">
                    <input
                        autocomplete="email"
                        type="email"
                        id="ContactForm-email"
                        class="field__input"
                        name="contact[email]"
                        spellcheck="false"
                        autocapitalize="off"
                        value="{% if form.email %}{{ form.email }}{% elsif customer %}{{ customer.email }}{% endif %}"
                        aria-required="true"
                        {% if form.errors contains 'email' %} aria-invalid="true" aria-describedby="ContactForm-email-error" {% endif %}
                        placeholder="{{ 'templates.contact.form.email' | t }}"
                    >
                    <label class="field__label" for="ContactForm-email">{{ 'templates.contact.form.email' | t }} *</label>
                </div>

                <div class="field">
                    <input type="tel" id="ContactForm-phone" class="field__input" autocomplete="tel" name="contact[{{ 'templates.contact.form.phone' | t }}]" pattern="[0-9\-]*" value="{% if form.phone %}{{ form.phone }}{% elsif customer %}{{ customer.phone }}{% endif %}" placeholder="Phone *">
                    <label class="field__label" for="ContactForm-phone">Phone *</label>
                </div>

                <div class="field">
                    <textarea rows="4" id="ContactForm-body" class="text-area field__input" name="contact[{{ 'templates.contact.form.comment' | t }}]" placeholder="Message *"></textarea>
                    <label class="form__label field__label" for="ContactForm-body">Message *</label>
                </div>

                <div class="consent-checkbox">
                    <input type="checkbox" id="ContactForm-consent" name="contact[consent]" required>
                    <label for="ContactForm-consent">
                        By checking this box, I consent to receive marketing and promotional messages, including special offers, discounts, new product updates among others. Message frequency may vary. Message & Data rates may apply. Reply HELP for help or STOP to opt-out.
                    </label>
                </div>

                <div class="contact__button">
                  <button type="submit" class="button">
                    Submit
                  </button>
                </div>
              {%- endform -%}
          </div>
      </div>
  </div>
</div>

{% schema %}
{
  "name": "Custom Contact Section",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "default": "Need to Talk to Us?",
      "label": "Heading"
    },
    {
      "type": "richtext",
      "id": "description",
      "default": "<p>Questions, comments, or suggestions? Simply fill in the form and we'll be in touch shortly.</p>",
      "label": "Description"
    },
    {
      "type": "header",
      "content": "Contact Details"
    },
    {
      "type": "text",
      "id": "address_label",
      "default": "P.O. Box 1655",
      "label": "Address Label 1"
    },
    {
      "type": "richtext",
      "id": "address_text",
      "default": "<p>George West, Texas 78022</p>",
      "label": "Address Text"
    },
    {
      "type": "text",
      "id": "phone_label",
      "default": "(361) 362-8085",
      "label": "Phone Number"
    },
    {
      "type": "text",
      "id": "phone_text",
      "default": "(361) 362-8085",
      "label": "Phone Link Text"
    },
    {
      "type": "text",
      "id": "email_label",
      "default": "order@quickpropanels.com",
      "label": "Email Text"
    },
    {
      "type": "text",
      "id": "email_text",
      "default": "order@quickpropanels.com",
      "label": "Email Link"
    },
    {
      "type": "header",
      "content": "Padding"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Top Padding",
      "default": 60
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Bottom Padding",
      "default": 60
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color Scheme",
      "default": "scheme-1"
    }
  ],
  "presets": [
    {
      "name": "Custom Contact Section"
    }
  ]
}
{% endschema %}
